<!Doctype html>
<html>
<head>
    <title>Tic Tac Toe</title>
    <style>
            table, th, td {
                border: 1px solid black;
              }
              table{
                  height: 250px;
                  width: 250px;
              }
              button{
                  height: 100px;
                  width: 100px;
              }
    </style>
</head>
<body>
  


    <TABLE>
            
            <TR id="row1">
                   
               <TH><button onclick="B1()"  id="1"></button></TH> <TD><button onclick="B2()" id="2"></button></TD> <TD><button onclick="B3()" id="3"></button></TD>
           
            <TR id="row2">
               <TH><button onclick="B4()" id="4"></button></TH> <TD><button onclick="B5()" id="5"></button></TD>  <TD><button onclick="B6()" id="6"></button></TD>
            <TR id="row3">
               <TH><button onclick="B7()" id="7"></button></TH> <TD><button onclick="B8()" id="8"></button></TD>  <TD><button onclick="B9()" id="9"></button></TD>
               
            </TABLE>

         
</body>


<script>
      var Boxes =[1,2,3,4,5,6,7,8,9]; // Creates array to register and monitor each box
      var userInput =[]; // array that registers user input

      var maxValue; // maximum index of box available
      var minValue // minimum index of box available
     
 
// function B1-B9 is the event listener for each button.
function B1(){
           UserInput(1);
          ComputerInput();
           CheckWinner();
           }
function B2(){
              UserInput(2);
             ComputerInput();
              CheckWinner();
           }
function B3(){
            UserInput(3);
           ComputerInput();
          CheckWinner();
           }
function B4(){
              UserInput(4);
             ComputerInput();
             CheckWinner();
           }
function B5(){
             UserInput(5);
            ComputerInput();
            CheckWinner();
           }
function B6(){
           UserInput(6);
          ComputerInput();
          CheckWinner();
           }
function B7(){
              UserInput(7);
             ComputerInput();
             CheckWinner();
           }
function B8(){
              UserInput(8);
             ComputerInput();
             CheckWinner();
           }
function B9(){
            UserInput(9);
           ComputerInput();
            CheckWinner();
           }


           
           
           
function UserInput(i)
           
           {
            document.getElementById(i).innerText="X";
            var check = Boxes.indexOf(i); 
            Boxes.splice(check,1); // removes the box index of the box the user picks from the boxes array
            maxValue = Math.max.apply(null, Boxes); //gets maximum index of available box
            minValue = Math.min.apply(null, Boxes);  // gets minimum index of available box.
            Boxes.sort();
            
          userInput.push(i); // push userInput into the userInput array
         
           
          }
function ComputerInput(){
      if (Boxes.length < 1){
        //if all boxes are full, check for winner.
       CheckWinner();
      } 
   

     

    var i =  Boxes[Math.floor(Math.random()*Boxes.length)]; // creates random computer input from the current values in the Boxes array(available boxes).
   

   //the next couple if else statement tell the computer what to do when the user picks some certain boxes and the corresponding boxes around them are free.
    if ((userInput.indexOf(1,0) >= 0) && (userInput.indexOf(2,0) >= 0) &&(Boxes.indexOf(3,0) >= 0) )
    
    {
      i = 3;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(1,0) >= 0) && (userInput.indexOf(5,0) >= 0) &&(Boxes.indexOf(9,0) >= 0) )
    
    {
      i = 9;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
   else if ((userInput.indexOf(1,0) >= 0) && (userInput.indexOf(4,0) >= 0) &&(Boxes.indexOf(7,0) >= 0) )
    
    {
      i = 7;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(2,0) >= 0) && (userInput.indexOf(5,0) >= 0) &&(Boxes.indexOf(8,0) >= 0) )
    
    {
      i = 8;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(2,0) >= 0) && (userInput.indexOf(3,0) >= 0) &&(Boxes.indexOf(1,0) >= 0) )
    
    {
      i = 1;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(3,0) >= 0) && (userInput.indexOf(6,0) >= 0) &&(Boxes.indexOf(9,0) >= 0) )
    
    {
      i = 9;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(3,0) >= 0) && (userInput.indexOf(5,0) >= 0) &&(Boxes.indexOf(7,0) >= 0) )
    
    {
      i = 7;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(4,0) >= 0) && (userInput.indexOf(5,0) >= 0) &&(Boxes.indexOf(6,0) >= 0) )
    
    {
      i = 6;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(5,0) >= 0) && (userInput.indexOf(6,0) >= 0) &&(Boxes.indexOf(4,0) >= 0) )
    
    {
      i = 4;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(4,0) >= 0) && (userInput.indexOf(7,0) >= 0) &&(Boxes.indexOf(1,0) >= 0) )
    
    {
      i = 1;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(5,0) >= 0) && (userInput.indexOf(8,0) >= 0) &&(Boxes.indexOf(2,0) >= 0) )
    
    {
      i = 2;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(6,0) >= 0) && (userInput.indexOf(9,0) >= 0) &&(Boxes.indexOf(3,0) >= 0) )
    
    {
      i = 3;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(5,0) >= 0) && (userInput.indexOf(7,0) >= 0) &&(Boxes.indexOf(3,0) >= 0) )
    
    {
      i = 3;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(5,0) >= 0) && (userInput.indexOf(9,0) >= 0) &&(Boxes.indexOf(1,0) >= 0) )
    
    {
      i = 1;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(7,0) >= 0) && (userInput.indexOf(8,0) >= 0) &&(Boxes.indexOf(9,0) >= 0) )
    
    {
      i = 9;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(9,0) >= 0) && (userInput.indexOf(8,0) >= 0) &&(Boxes.indexOf(7,0) >= 0) )
    
    {
      i = 7;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(9,0) >= 0) && (userInput.indexOf(3,0) >= 0) &&(Boxes.indexOf(6,0) >= 0) )
    
    {
      i = 6;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(9,0) >= 0) && (userInput.indexOf(7,0) >= 0) &&(Boxes.indexOf(8,0) >= 0) )
    
    {
      i = 8;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(2,0)>=0&&(userInput.indexOf(8,0)>=0))&&Boxes.indexOf(5,0) >=0){
      i = 5;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";
    }
    else if ((userInput.indexOf(1,0) >= 0) && (userInput.indexOf(7,0) >= 0) &&(Boxes.indexOf(4,0) >= 0) )
    
    {
      i = 4;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(1,0) >= 0) && (userInput.indexOf(3,0) >= 0) &&(Boxes.indexOf(2,0) >= 0) )
    
    {
      i = 2;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(1,0) >= 0) && (userInput.indexOf(9,0) >= 0) &&(Boxes.indexOf(5,0) >= 0) )
    
    {
      i = 5;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else if ((userInput.indexOf(3,0) >= 0) && (userInput.indexOf(7,0) >= 0) &&(Boxes.indexOf(5,0) >= 0) )
    
    {
      i = 5;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }


    else if (((userInput.indexOf(1,0) >= 0) || (userInput.indexOf(3,0) >= 0) || (userInput.indexOf(7,0) >= 0) || (userInput.indexOf(9,0) >= 0)) &&(Boxes.indexOf(5,0) >= 0) )
    
    {
      
      i = 5;
      var check = Boxes.indexOf(i);
      Boxes.splice(check,1);
      Boxes.sort();
      document.getElementById(i).innerText="O";

    }
    else{
    var check = Boxes.indexOf(i);
    Boxes.splice(check,1);
    Boxes.sort();
    document.getElementById(i).innerText="O";
    }

     computerInput.push(i);
     
  }
function UserWins(){

    
     // tests conditions for the use to win
      if (document.getElementById("1").innerText == "X" && document.getElementById("2").innerText == "X" && document.getElementById("3").innerText == "X" ){
        
          return true;
         
      }
      else if (document.getElementById("4").innerText == "X" && document.getElementById("5").innerText == "X" && document.getElementById("6").innerText == "X" ){
      
        return true;
       
      }
    
    else if (document.getElementById("7").innerText == "X" && document.getElementById("8").innerText == "X" && document.getElementById("9").innerText == "X" ){
      
        return true;
       
    }
    else if (document.getElementById("1").innerText == "X" && document.getElementById("5").innerText == "X" && document.getElementById("9").innerText == "X" ){
      
        return true;
       
    }
    else if (document.getElementById("3").innerText == "X" && document.getElementById("5").innerText == "X" && document.getElementById("7").innerText == "X" ){
      
        return true;
       
    }
    else if (document.getElementById("1").innerText == "X" && document.getElementById("4").innerText == "X" && document.getElementById("7").innerText == "X" ){
      
        return true;
       
    }
    else if (document.getElementById("2").innerText == "X" && document.getElementById("5").innerText == "X" && document.getElementById("8").innerText == "X" ){
      
        return true;
       
    }
    else if (document.getElementById("3").innerText == "X" && document.getElementById("6").innerText == "X" && document.getElementById("9").innerText == "X" ){
      
        return true;
       
    }

    return false;

  }
function ComputerWins(){
// tests conditions for the computer to win
.
    if (document.getElementById("1").innerText == "O" && document.getElementById("2").innerText == "O" && document.getElementById("3").innerText == "O" ){
       
        return true;
       
    }
    else if (document.getElementById("4").innerText == "O" && document.getElementById("5").innerText == "O" && document.getElementById("6").innerText == "O" ){
     
      return true;
     
    }
  
  else if (document.getElementById("7").innerText == "O" && document.getElementById("8").innerText == "O" && document.getElementById("9").innerText == "O" ){
     
      return true;
     
  }
  else if (document.getElementById("1").innerText == "O" && document.getElementById("5").innerText == "O" && document.getElementById("9").innerText == "O" ){
     
      return true;
     
  }
  else if (document.getElementById("3").innerText == "O" && document.getElementById("5").innerText == "O" && document.getElementById("7").innerText == "O" ){
     
      return true;
     
  }
  else if (document.getElementById("1").innerText == "O" && document.getElementById("4").innerText == "O" && document.getElementById("7").innerText == "O" ){
     
      return true;
     
  }
  else if (document.getElementById("2").innerText == "O" && document.getElementById("5").innerText == "O" && document.getElementById("8").innerText == "O" ){
     
      return true;
     
  }
  else if (document.getElementById("3").innerText == "O" && document.getElementById("6").innerText == "O" && document.getElementById("9").innerText == "O" ){
      return true;
      
  }

  return false;
}
function CheckWinner(){
//checks the outcome of the game.
     if(UserWins() == true){
      alert("User 1 wins");
      location.reload();
    }

    else if (ComputerWins() == true){
        alert("Computer wins");
        location.reload();
      }
    
     
      else if(Boxes.length < 1 && ComputerWins != true && UserWins != true ){
        alert("Game ends. its a Draw");
        location.reload();
      }
   
  }
     

</script>
</html>